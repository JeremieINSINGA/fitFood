{"version":3,"sources":["webpack:///./src/app/models/Ingredient.model.ts","webpack:///./src/app/models/Recipe.model.ts","webpack:///./src/app/recipes/recipes-edit/recipes-edit.module.ts","webpack:///./src/app/recipes/recipes-edit/recipes-edit.page.html","webpack:///./src/app/recipes/recipes-edit/recipes-edit.page.scss","webpack:///./src/app/recipes/recipes-edit/recipes-edit.page.ts"],"names":[],"mappings":"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","file":"recipes-recipes-edit-recipes-edit-module.js","sourcesContent":["export class Ingredient {\n    constructor(\n        public name: string,\n        public quantity: string,\n        public unit: string,\n        public isChecked: boolean\n    ) {}\n}","export class Recipe {\n    photo: string;\n    constructor(\n        public title: string,\n        public portions: string,\n        public meal: string,\n        public prepareTime: string,\n        public globalTime: string,\n        public ingredients: any[],\n        public steps: any[],\n        public toShop: boolean) {}\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RecipesEditPage } from './recipes-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RecipesEditPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RecipesEditPage]\n})\nexport class RecipesEditPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"favorite\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\"></ion-back-button>\\n      <ion-button *ngIf=\\\"recipe\\\" (click)=\\\"onBackToRecipe()\\\">\\n        <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Edition d'une recette</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <form [formGroup]=\\\"recipeForm\\\" (ngSubmit)=\\\"onSaveRecipe()\\\">\\n    <ion-item class=\\\"ion-padding-horizontal ion-padding-top\\\">\\n      <ion-label color=\\\"favorite\\\">\\n          Informations globales\\n      </ion-label>\\n    </ion-item>\\n\\n    <div class=\\\"ion-padding-horizontal\\\">\\n      <div class=\\\"ion-padding-horizontal ion-padding-top\\\">\\n        <label class=\\\"recipeFormLabel\\\">Titre</label>\\n        <ion-input formControlName=\\\"title\\\" type=\\\"text\\\" class=\\\"recipeFormInput ion-padding-horizontal\\\" placeholder=\\\"Ex: Ravioli ricotta épinard\\\"></ion-input>\\n      </div>\\n      <div class=\\\"ion-padding-horizontal pt-3\\\">\\n        <ion-item lines=\\\"none\\\" class=\\\"recipeSelect\\\">\\n          <ion-label>Portions</ion-label>\\n          <ion-select formControlName=\\\"portions\\\" value=\\\"portions\\\" okText=\\\"OK\\\" cancelText=\\\"Annuler\\\">\\n            <ion-select-option value=\\\"1\\\">1</ion-select-option>\\n            <ion-select-option value=\\\"2\\\">2</ion-select-option>\\n            <ion-select-option value=\\\"3\\\">3</ion-select-option>\\n            <ion-select-option value=\\\"4\\\">4</ion-select-option>\\n            <ion-select-option value=\\\"5\\\">5</ion-select-option>\\n            <ion-select-option value=\\\"6\\\">6</ion-select-option>\\n            <ion-select-option value=\\\"8\\\">8</ion-select-option>\\n            <ion-select-option value=\\\"10\\\">10</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"ion-padding-horizontal pt-3\\\">\\n        <ion-item lines=\\\"none\\\" class=\\\"recipeSelect\\\">\\n          <ion-label>Repas</ion-label>\\n          <ion-select formControlName=\\\"meal\\\" value=\\\"meal\\\" okText=\\\"OK\\\" cancelText=\\\"Annuler\\\">\\n            <ion-select-option value=\\\"Petit déjeuner\\\">Petit déjeuner</ion-select-option>\\n            <ion-select-option value=\\\"Déjeuner\\\">Déjeuner</ion-select-option>\\n            <ion-select-option value=\\\"Dîner\\\">Dîner</ion-select-option>\\n            <ion-select-option value=\\\"Entrée\\\">Entrée</ion-select-option>\\n            <ion-select-option value=\\\"Dessert\\\">Dessert</ion-select-option>\\n            <ion-select-option value=\\\"Collation\\\">Collation</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </div>\\n    </div>\\n\\n    <ion-grid class=\\\"ion-padding-horizontal\\\">\\n      <ion-row class=\\\"ion-padding-horizontal\\\">\\n        <ion-col size=\\\"6\\\">\\n          <ion-item class=\\\"recipeSelect\\\" lines=\\\"none\\\">\\n            <ion-label>Préparation</ion-label>\\n            <ion-datetime formControlName=\\\"prepareTime\\\" displayFormat=\\\"HH:mm\\\"></ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\">\\n          <ion-item class=\\\"recipeSelect\\\" lines=\\\"none\\\">\\n            <ion-label>Temps global</ion-label>\\n            <ion-datetime formControlName=\\\"globalTime\\\" displayFormat=\\\"HH:mm\\\"></ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-item class=\\\"ion-padding-horizontal\\\">\\n      <ion-label color=\\\"favorite\\\">\\n          Ingrédients\\n      </ion-label>\\n    </ion-item>\\n\\n    <div class=\\\"ion-padding-horizontal\\\">\\n      <div class=\\\"ion-padding-horizontal ion-padding-top\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              <ion-input type=\\\"text\\\" class=\\\"recipeFormInput ion-padding-horizontal\\\" placeholder=\\\"Ingédient\\\" formControlName=\\\"ingredientName\\\"></ion-input>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-input type=\\\"text\\\" class=\\\"recipeFormInput ion-padding-horizontal\\\" placeholder=\\\"Qté\\\" formControlName=\\\"ingredientQty\\\"></ion-input>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item lines=\\\"none\\\" class=\\\"recipeSelect\\\">\\n                <ion-label>Unité</ion-label>\\n                <ion-select formControlName=\\\"ingredientUnit\\\" value=\\\"unit\\\" okText=\\\"OK\\\" cancelText=\\\"Annuler\\\">\\n                  <ion-select-option value=\\\"g\\\" selected>g</ion-select-option>\\n                  <ion-select-option value=\\\"kg\\\">kg</ion-select-option>\\n                  <ion-select-option value=\\\"L\\\">L</ion-select-option>\\n                  <ion-select-option value=\\\"cL\\\">cL</ion-select-option>\\n                  <ion-select-option value=\\\"mL\\\">mL</ion-select-option>\\n                  <ion-select-option value=\\\"cuillère à café\\\">cuillère à café</ion-select-option>\\n                  <ion-select-option value=\\\"cuillère à soupe\\\">cuillère à soupe</ion-select-option>\\n                  <ion-select-option value=\\\"aucun\\\">aucun</ion-select-option>\\n                </ion-select>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-button color=\\\"favorite\\\" class=\\\"ion-no-padding p-0\\\" expand=\\\"block\\\" (click)=\\\"onAddIngredient()\\\">\\n                <ion-icon name=\\\"add\\\" slot=\\\"start\\\"></ion-icon>\\n                Ajouter\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\" *ngFor=\\\"let ingredient of addedIngredients\\\">\\n              <ion-item class=\\\"ion-no-padding d-flex\\\" color=\\\"light\\\">\\n                <ion-label text-wrap class=\\\"ion-padding-start\\\">\\n                  {{ ingredient.name }} <span *ngIf=\\\"ingredient.quantity\\\">-</span> {{ ingredient.quantity }} <span *ngIf=\\\"ingredient.unit !== 'aucun'\\\">{{ ingredient.unit }}</span>\\n                </ion-label>\\n                <ion-icon name=\\\"close\\\" color=\\\"danger\\\" style=\\\"cursor: pointer;\\\" (click)=\\\"onRemoveIngredient()\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </div>\\n    </div>\\n\\n    <ion-item class=\\\"ion-padding-horizontal\\\">\\n      <ion-label color=\\\"favorite\\\">\\n          Etapes\\n      </ion-label>\\n    </ion-item>\\n\\n    <div class=\\\"ion-padding-horizontal ion-padding-top\\\">\\n      <div class=\\\"ion-padding-horizontal\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"9\\\">\\n              <ion-item lines=\\\"none\\\" class=\\\"recipeFormInput\\\">\\n                <ion-textarea placeholder=\\\"Entrez les étapes ici\\\" formControlName=\\\"step\\\"></ion-textarea>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"3\\\" class=\\\"d-flex\\\">\\n              <ion-button color=\\\"favorite\\\" class=\\\"ion-no-padding p-0 m-auto stepBtn\\\" shape=\\\"round\\\" (click)=\\\"onAddStep()\\\">\\n                <ion-icon name=\\\"add\\\" class=\\\"fs-30\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\" *ngFor=\\\"let step of addedSteps\\\">\\n              <ion-item color=\\\"light\\\" class=\\\"ion-no-padding d-flex\\\">\\n                <ion-label text-wrap class=\\\"ion-padding-start\\\">\\n                  {{ step }}\\n                </ion-label>\\n                <ion-icon name=\\\"close\\\" color=\\\"danger\\\" style=\\\"cursor: pointer;\\\" (click)=\\\"onRemoveStep()\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </div>\\n    </div>\\n\\n    <ion-button type=\\\"submit\\\" class=\\\"ion-padding ion-margin\\\" color=\\\"favorite\\\" expand=\\\"block\\\">\\n      Enregistrer\\n    </ion-button>\\n\\n  </form>\\n\\n</ion-content>\\n\"","module.exports = \".recipeFormInput {\\n  border: 1px solid #40a798 !important;\\n  border-radius: 5px !important; }\\n\\n.recipeSelect {\\n  border: 1px solid #40a798 !important;\\n  border-radius: 5px !important; }\\n\\n.stepBtn {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50% !important; }\\n\\n.subBtn {\\n  height: 40px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2JyeWFuL0RvY3VtZW50cy9wcm9qZWN0cy9sYWIvd2ViL2lvbmljX3Byb2pldGN0cy9maXRGb29kMi9zcmMvYXBwL3JlY2lwZXMvcmVjaXBlcy1lZGl0L3JlY2lwZXMtZWRpdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQ0FBb0M7RUFDcEMsNkJBQTZCLEVBQUE7O0FBR2pDO0VBQ0ksb0NBQW9DO0VBQ3BDLDZCQUE2QixFQUFBOztBQUdqQztFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osNkJBQTZCLEVBQUE7O0FBR2pDO0VBRUksWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcmVjaXBlcy9yZWNpcGVzLWVkaXQvcmVjaXBlcy1lZGl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZWNpcGVGb3JtSW5wdXQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MGE3OTggIWltcG9ydGFudDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHggIWltcG9ydGFudDtcbn1cblxuLnJlY2lwZVNlbGVjdCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQwYTc5OCAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweCAhaW1wb3J0YW50O1xufVxuXG4uc3RlcEJ0biB7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJSAhaW1wb3J0YW50O1xufVxuXG4uc3ViQnRuIHtcbiAgICAvLyB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport * as firebase from 'firebase';\nimport { Ingredient } from 'src/app/models/Ingredient.model';\nimport { Recipe } from 'src/app/models/Recipe.model';\nimport { RecipesService } from 'src/app/services/recipes.service';\nimport { UsersService } from 'src/app/services/users.service';\nimport { User } from 'src/app/models/User.model';\nimport { Subscription } from 'rxjs';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-recipes-edit',\n  templateUrl: './recipes-edit.page.html',\n  styleUrls: ['./recipes-edit.page.scss'],\n})\nexport class RecipesEditPage implements OnInit {\n\n  user: User;\n  userSubscription: Subscription;\n\n  recipe: Recipe;\n  recipeSubscription: Subscription;\n\n  loading: boolean = false;\n\n  recipeForm: FormGroup;\n  addedIngredients: any[] = [];\n  addedSteps: any[] = [];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private recipesService: RecipesService,\n    private usersService: UsersService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private navCtrl: NavController\n  ) { }\n\n  ngOnInit() {\n    this.initRecipeForm();\n    firebase.auth().onAuthStateChanged(\n      (user) => {\n        if (user) {\n          this.initUser(user.uid);\n          this.initRecipe(user.uid);\n        } else {\n          console.log('déconnecté');\n        }\n      }\n    );\n  }\n\n  initUser(userId) {\n    this.userSubscription = this.usersService.userSuject.subscribe(\n      (user: User) => {\n        this.user = user;\n        if (this.user !== undefined) {\n          this.loading = true;\n        } else {\n          this.loading = false;\n        }\n      }\n    );\n    this.usersService.getUser(userId);\n    this.usersService.emitUser();\n  }\n\n  initRecipe(userId) {\n    if (this.route.snapshot.params['id']) {\n      const recipeId = this.route.snapshot.params['id'];\n      this.recipe = new Recipe('', '', '', '', '', [], [], false);\n      this.recipeSubscription = this.recipesService.recipeSubject.subscribe(\n        (recipe: Recipe) => {\n          this.recipe = recipe;\n          setTimeout(() => {\n            this.recipeForm.get('title').setValue(this.recipe.title);\n            this.recipeForm.get('portions').setValue(this.recipe.portions);\n            this.recipeForm.get('meal').setValue(this.recipe.meal);\n            this.recipeForm.get('prepareTime').setValue(this.recipe.prepareTime);\n            this.recipeForm.get('globalTime').setValue(this.recipe.globalTime);\n            this.addedIngredients = this.recipe.ingredients ? this.recipe.ingredients : [];\n            this.addedSteps = this.recipe.steps ? this.recipe.steps : [];\n          }, 500);\n        }\n      );\n      this.recipesService.getRecipe(userId, recipeId);\n      this.recipesService.emitRecipe();\n    }\n  }\n\n  initRecipeForm() {\n    this.recipeForm = this.formBuilder.group({\n      title: ['', Validators.required],\n      portions: [''],\n      meal: [''],\n      prepareTime: [''],\n      globalTime: [''],\n      ingredientName: [''],\n      ingredientQty: [''],\n      ingredientUnit: [''],\n      step: ['']\n    });\n  }\n\n  onSaveRecipe() {\n    const recipeId = this.route.snapshot.params['id'];\n    const title = this.recipeForm.get('title').value;\n    const portions = this.recipeForm.get('portions').value;\n    const meal = this.recipeForm.get('meal').value;\n    const prepareTime = this.recipeForm.get('prepareTime').value;\n    const globalTime = this.recipeForm.get('globalTime').value;\n    const ingredient = this.addedIngredients ? this.addedIngredients : [];\n    const steps = this.addedSteps ? this.addedSteps : [];\n    const toShop = false;\n    const newRecipe = new Recipe(title, portions, meal, prepareTime, globalTime, ingredient, steps, toShop);\n    console.log(newRecipe);\n    if(this.route.snapshot.params['id']) {\n      this.recipesService.updateRecipe(newRecipe, recipeId, this.user.userId);\n    } else {\n      this.recipesService.createRecipe(newRecipe, this.user.userId);\n    }\n    this.router.navigate(['/recipes']);\n  }\n\n  onAddIngredient() {\n    const name = this.recipeForm.get('ingredientName').value;\n    const quantity = this.recipeForm.get('ingredientQty').value;\n    const unit = this.recipeForm.get('ingredientUnit').value ? this.recipeForm.get('ingredientUnit').value : '';\n    const newIngredient = new Ingredient(name, quantity, unit, false);\n    this.addedIngredients.push(newIngredient);\n    this.recipeForm.get('ingredientName').setValue('');\n    this.recipeForm.get('ingredientQty').setValue('');\n  }\n\n  onRemoveIngredient(id: number) {\n    this.addedIngredients.splice(id, 1);\n  }\n\n  onAddStep() {\n    const step = this.recipeForm.get('step').value;\n    this.addedSteps.push(step);\n    this.recipeForm.get('step').setValue('');\n  }\n\n  onRemoveStep(id: number) {\n    this.addedSteps.splice(id, 1);\n  }\n\n  onBackToRecipe() {\n    const id = this.route.snapshot.params['id'];\n    this.navCtrl.navigateBack('/recipe/' + id);\n  }\n\n}\n"],"sourceRoot":""}